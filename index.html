<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=8"/>
    <title>Fair Value Calculator</title>
    <meta name="description" content="Fair Value Calculator"/>
  </head>
  <body>
    <form action="#" type="post" onsubmit="return false;">
      <table>
	<tr>
	  <th>Initial Investment:</th>
	  <td><input type="text" id="investment" name="investment"/></td>
	</tr>
	<tr>
	  <th>Yield:</th>
	  <td><input type="text" id="yield" name="yield"/></td>
	</tr>
	<tr>
	  <th>Return of investment cycles:</th>
	  <td id="cycles"></td>
	</tr>
	<tr>
	  <td><input type="submit" id="calculate" value="Calculate"/></td>
	</tr>
      </table>
    </form>

    <script type="module">
      let $c = document.getElementById('calculate');
      $c.onclick = function() {
          let $i = parseFloat(document.getElementById('investment').value,10);
          let $y = parseFloat(document.getElementById('yield').value,10) / 100;
          let $cy = document.getElementById('cycles');
          let years = 0;
          let total = 0;
          let pay = 0;
          let initial = $i;

          while (total < initial) {
              pay += $i * $y;
              total += pay;
              $i += pay;
              years += 1;	  
          }
          $cy.innerHTML = years;
	  return false;
      };
    </script>
  </body>
</html>
